<div class="col-md-10 mx-auto">
    <p class="h1 text-center">Merchandise Customiser</p>
    <hr>

    <div class="row mt-5 mb-5">
        <div class="row">
            <div class="col-md">
                <button nbButton hero status="primary" class="w-100" [routerLink]="['/app/listmerch']"
                    routerLinkActive="router-link-active">Merch
                    Store</button>
            </div>
            <div class="col-md">
                <button nbButton hero status="warning" class="w-100" (click)="finalize()">Checkout</button>
            </div>

        </div>
    </div>

    <img *ngIf="final_image" [src]="final_image.src" alt="">
    <div class="row justify-content-center mt-5 mb-5">
        <div class="col-2 l-side">

            <div class="l-side-item" *ngFor="let feature of features;let i = index">
                <img class="img-fluid" [src]="'/assets'+feature.image" alt="" (click)="toggleFeature(i)">
            </div>
        </div>
        <div class="col-5 mx-auto">
            <canvas id="c" style="width: 100%;"></canvas>
        </div>
        <div class="col-2 r-side">
            <div class="r-side-item" *ngFor="let item of selected_merch.images;let i = index;" (click)="setObject(i)">
                <img class="img-fluid" [src]="'assets'+item" alt="">
            </div>
        </div>
    </div>


    <button nbButton style="width: 100%;" (click)="removeSticker()">Delete Item</button>
    <nb-card class="mt-4" status="primary" *ngIf="features[0].enabled">
        <nb-card-header>Choose Color</nb-card-header>
        <nb-card-body class="card-body">
            <div class="row">
                <div class="col palete-choice"
                    style="background: url('assets/color_ph.png') center no-repeat;background-size: contain;"
                    (click)="setColor('default')"></div>
                <div class="col palete-choice" style="background-color: #001485;" (click)="setColor('#001485')"></div>
                <div class="col palete-choice" style="background-color: #b1b1b1;" (click)="setColor('#b1b1b1')"></div>
                <div class="col palete-choice" style="background-color: #1eff00;" (click)="setColor('#1eff00')"></div>
                <div class="col palete-choice" style="background-color: #ff00ff;" (click)="setColor('#ff00ff')"></div>
                <div class="col palete-choice" style="background-color: #d38888;" (click)="setColor('#d38888')"></div>
                <div class="col palete-choice" style="background-color: #b941ff;" (click)="setColor('#b941ff')"></div>
                <div class="col palete-choice" style="background-color: #850000;" (click)="setColor('#850000')"></div>
                <div class="col palete-choice" style="background-color: #850000;" (click)="setColor('#850000')"></div>
                <div class="col palete-choice" style="background-color: #850000;" (click)="setColor('#850000')"></div>
                <div class="col palete-choice" style="background-color: #850000;" (click)="setColor('#850000')"></div>
                <div class="col palete-choice" style="background-color: #850000;" (click)="setColor('#850000')"></div>
                <div class="col palete-choice" style="background-color: #850000;" (click)="setColor('#850000')"></div>
            </div>
        </nb-card-body>
    </nb-card>

    <nb-card status="primary" *ngIf="features[1].enabled">
        <nb-card-header>Add Text</nb-card-header>
        <nb-card-body class="card-body">

            <div class="row mb-5 mb-5">
                <div class="col" *ngFor="let font of fonts;let i =index;">
                    <button nbButton color="primary" [style.font-family]="font" (click)="setFont(font)">Font
                        {{i+1}}</button>
                </div>
            </div>
            <div class="input-group">
                <input type="text" class="form-control" #text>
                <div class="input-append">
                    <button nbButton (click)="addText(text.value)" color="primary">Add Text</button>
                </div>
            </div>

        </nb-card-body>
    </nb-card>

    <nb-card status="primary" *ngIf="features[2].enabled">
        <nb-card-header>Click to Add Stickers</nb-card-header>
        <nb-card-body class="card-body">
            <div class="row">
                <div class="col-2" *ngFor="let sticker of stickers">
                    <div class="sticker-choice" (click)="addSticker(sticker)">
                        <img [src]="'assets'+sticker" alt="" class="img-fluid">
                    </div>
                </div>
            </div>

        </nb-card-body>
    </nb-card>

    <nb-card status="primary" *ngIf="features[3].enabled">
        <nb-card-header>Free Hand Drawing</nb-card-header>
        <nb-card-body class="card-body">
            <div class="row">
                <div class="col">
                    <p class="h3">Set Pen Width</p>
                    <mat-slider thumbLabel value="1" [min]="1" [max]="50" #width (change)="setPenWidth(width.value)">
                    </mat-slider>
                </div>
                <div class="col">
                    <p class="h3">Set Pen Color</p>
                    <input type="color" class="form-control" #color (change)="setPenColor(color.value)">
                </div>
            </div>

        </nb-card-body>
    </nb-card>

</div>